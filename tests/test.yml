---
# test file for hswong3i.bitbucket

- hosts: localhost
  remote_user: root
  pre_tasks:
    - name: Ensure JDK Version 8 available
      apt_repository: repo='ppa:openjdk-r/ppa'
      when: ansible_distribution == 'Ubuntu'
            and ( ansible_distribution_version == '12.04'
                  or ansible_distribution_version == '14.04')

  roles:
    - role: geerlingguy.java
      java_packages:
        - java-1.8.0-openjdk
      when: ansible_os_family == 'RedHat'
    - role: geerlingguy.java
      java_packages:
        - openjdk-8-jdk
      when: ansible_os_family == 'Debian'
    - role_under_test
